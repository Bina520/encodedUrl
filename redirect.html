<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giải mã URL</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/3.0.0/jsencrypt.min.js"></script>
    <style>
        #adFrame {
            width: 100%;
            height: 300px; /* Chiều cao của iframe */
            border: none;
        }
    </style>
</head>
<body>
    <h1>Giải mã URL</h1>
    <p id="originalUrl"></p>
    <p id="countdown"></p>
    <iframe id="adFrame" src="https://postponeclement.com/ncc53nijfk?key=02d6efceaf8b7a7f564b99413c4b3056" style="display:none;"></iframe> <!-- Thay thế bằng liên kết quảng cáo của bạn -->

    <script>
        const privateKey = `-----BEGIN RSA PRIVATE KEY-----
MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQC2S5Dx2a/RzWua5Qcl8EltYaJEBoiZXz8bc+V563pFwDwRMPnV8Vvhs8W8CPtpkRNeauqZi7dlGuedXoqIaw41QKYGTswW7dHwyDjhra3QvXBZ97m5m9O8clKu/HSqBNqk043u9eWHEAhUV82TgzllnEP0+jURf8oVGdIJn7A74NgE24dJtSKQWitE+fB92E1nzU2LWweFpDvck1X4Ybgk9A14ktdX9pVuX+XTLnIn9o7nIvqumne5RI6vQvVJud4xL1nCfUBW1Mtx9NCQFD/bkrEBtqW/O8jzwnSq+nqkA5jw3ZOG2GjJgfnDNpIz1Nr2qGAXG5Is5b+s7bPecSaDAgMBAAECggEAB4Ew5GP70v1L8sJ++tbbjv83+Ojz8qxzIqQwzEYfcIOrdWG4x0/6Yl5OQ6FzCDOKwpZQNiYEVMs4wcfEmD0gBp00uInB6Se9PtZfURsfTrqdx3ZlVPjPTLDAKqgF/YHZpnN3ImFJI7hLP32l3u7GDCLUwV8TlDbYkOnRNcg3Lx/OlUb/oO0+8kjhXpKYQzzI71qmOFsXxhXYKaCwbgkgrstshNzFkNEtv+diljSxs//wyVbFSzZNotPqOvqidrNLmd4cPPvpQm2luNvivp/9rF9HDjbZ2clzM3UiqO9t8rKfO34JEzOAHxUDJU1NHQtnyYBlift0pTQcS+Ilwjf0oQKBgQC902TWgu41DfspVhbTF8Cu6GLiq9wqDflByEdDCl4yVu62buTUDX4imRcH6J0qkyd9k5cdEB4nn1kdqaJjUyAsMDmPfWWzlF/atVxwHwcZ4KZzmlGDjNPlHDNX6cTAsDlGDqBbfxeOP5z2Qiz7WREF41E83I4dk98q63KfqySzCwKBgQD12B8e2avNe45LC+znVIi0sAlLp8SwMLrk4AePutFa7JBRILWQI6/OxNtSqeyRVgda1fXjH8HgyeEX71ePv8eXU1kHps85axOS8TLjJRLQK2nsCmqheOB9eEMxbtdTp3LYqTASJg/cwrfTpvL3msNftiVRr7x1e+tNNobg7X2FaQKBgBFVG//6NIXjoOtFURA1OwK9dUn9Jz0vyXKYNumIKNGv3lwKBBrYoIvILrIqKy+YACMXNtUQg7BafGiY9JrdHDLstFTFvmOHSLlPlgEm1B8oxAoKLSc11KM2z/lW/wAZFyGudDXmhOAYLtzNbg4FM+i1uNU1zkQlHFtu5ChwGAnBAoGAAwnayJzUHMQMLC1HjkxjLCiI1OCL88mGZdHHBiW+9Kq71eTbmZ53S8zvEQR8ogc4LA087sOzt72HBK62nFY4d0xWa1vKb+E86rIEeP46T0xaEMrIKpq9248i9XdzPdtx9e+RYogJ5iaZ8wm7Mwg8pfAwYeQUJjeT3u5vmFQXGxECgYBTyB25MoGN3PF4mQzcwLmk0i5cGoaJvFpfV/668G3WcEv/JFWo3Sv7ZuOhAQ0+9LEvgW38MOjVqnvrE+LI5N2Vh6JBy7Ko2MODTEA0WdaMnK+wiqkUOakQJ5PtQ92qBF5nKh2pjaZs7cmDeerNH6WgpXx0Nr6Cfpic9qhntn4q9Q==
-----END RSA PRIVATE KEY-----`;

        function decodeUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            const finalUrl = urlParams.get('url'); // Lấy mã đã mã hóa từ URL
            if (!finalUrl) {
                document.getElementById('originalUrl').innerText = "Không có mã để giải mã.";
                return;
            }

            const encryptedUrl = finalUrl.substring(0, finalUrl.length - 5); // Lấy mã đã mã hóa (loại trừ 5 ký tự ngẫu nhiên)
            const decryptor = new JSEncrypt();
            decryptor.setPrivateKey(privateKey);
            const decrypted = decryptor.decrypt(encryptedUrl); // Giải mã bằng RSA

            if (decrypted) {
                document.getElementById('originalUrl').innerText = `URL gốc: ${decrypted}`;
                startCountdown(decrypted); // Bắt đầu đếm ngược với URL gốc
            } else {
                document.getElementById('originalUrl').innerText = "Không tìm thấy URL tương ứng với mã đã mã hóa.";
            }
        }

        function startCountdown(originalUrl) {
            let countdown = 5; // Thời gian đếm ngược
            const countdownElement = document.getElementById('countdown');
            countdownElement.innerText = `Chuyển hướng trong ${countdown} giây...`;

            const interval = setInterval(() => {
                countdown--;
                countdownElement.innerText = `Chuyển hướng trong ${countdown} giây...`;
                if (countdown <= 0) {
                    clearInterval(interval);
                    window.location.href = originalUrl; // Chuyển hướng đến URL gốc
                }
            }, 1000);
        }

        window.onload = function() {
            decodeUrl(); // Gọi hàm khi trang được tải
            document.getElementById('adFrame').style.display = 'block'; // Hiển thị iframe quảng cáo
        };
    </script>
</body>
</html>
